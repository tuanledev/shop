<div class="row">
    <div class="col-12">
        <div class="card card-outline-info">
            <div class="card-header">
                <h4 class="m-b-0 text-white">Sửa sản phẩm</h4>
            </div>
            <div class="card-body">
                <form novalidate="" method="POST" action="" enctype="multipart/form-data">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Tên sản phẩm VN <span class="text-danger">*</span></label>
                                <div class="controls">
                                    <input type="text" name="TitleVN" id="TitleVN" class="form-control"
                                        data-validation-required-message="Không được để trống" value="{{.data.TitleVN}}">
                                    <small class="has-danger form-control-label" style="color: red;" id="username_msg">
                                        {{if .errMsg}}
                                        {{ map_get .errMsg "TitleVN"}}
                                        {{end}}
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Tên sản phẩm EN <span class="text-danger">*</span></label>
                                <div class="controls">
                                    <input type="text" name="TitleEN" class="form-control"
                                        data-validation-required-message="Không được để trống" value="{{.data.TitleEN}}">
                                    <div class="help-block"></div>
                                    {{if .errMsg}} <small class="has-danger form-control-label" style="color: red;">{{ map_get .errMsg "TitleEN"}} </small> {{end}}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Meta từ khóa VN<span class="text-danger"></span></label>
                                <div class="controls">
                                    <input type="text" name="MetaKeywordVN" id="username" class="form-control" value="{{.data.MetaKeywordVN}}">
                                    <small class="has-danger form-control-label" style="color: red;" id="username_msg">
                                        {{if .errMsg}}
                                        {{ map_get .errMsg "MetaKeywordVN"}}
                                        {{end}}
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Meta từ khóa EN <span class="text-danger"></span></label>
                                <div class="controls">
                                    <input type="text" name="MetaKeywordEN" class="form-control" value="{{.data.MetaKeywordEN}}">
                                    <div class="help-block"></div>
                                    {{if .errMsg}} <small class="has-danger form-control-label" style="color: red;">{{ map_get .errMsg "MetaKeywordEN"}} </small> {{end}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Meta miêu tả VN<span class="text-danger"></span></label>
                                <div class="controls">
                                    <input type="text" name="MetaDescriptionVN" id="username" class="form-control" value="{{.data.MetaDescriptionVN}}">
                                    <small class="has-danger form-control-label" style="color: red;" id="username_msg">
                                        {{if .errMsg}}
                                        {{ map_get .errMsg "MetaDescriptionVN"}}
                                        {{end}}
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Meta miêu tả EN <span class="text-danger"></span></label>
                                <div class="controls">
                                    <input type="text" name="MetaDescriptionEN" class="form-control" value="{{.data.MetaDescriptionEN}}">
                                    <div class="help-block"></div>
                                    {{if .errMsg}} <small class="has-danger form-control-label" style="color: red;">{{ map_get .errMsg "MetaDescriptionEN"}} </small> {{end}}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-1">
                            <div class="form-group">
                                <label>Thứ tự</label>
                                <div class="controls">
                                    <input type="number" name="Sort" class="form-control" min="0" 
                                    value="{{.data.Sort}}">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2" id="">
                            <div class="form-group">
                                <label>Giá</label>
                                <div class="controls">
                                    <input type="text" id="Price" name="Price" class="form-control" value="{{.data.Price}}">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2" id="">
                            <div class="form-group">
                                <label>Giá khuyến mãi</label>
                                <div class="controls">
                                    <input type="text" id="SalePrice" name="SalePrice" class="form-control" value="{{.data.SalePrice}}"> 
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1" id="">
                            <div class="form-group">
                                <label>Nổi bật</label>
                                <div class="switch">
                                    <label>
                                        <input type="checkbox" name="Hot" id="Hot" {{if eq .data.Hot 1}} checked {{end}}/>
                                        <span class="lever switch-col-red"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1" id="">
                            <div class="form-group">
                                <label>Mới</label>
                                <div class="switch">
                                    <label>
                                        <input type="checkbox" name="New" id="New" {{if eq .data.New 1}} checked {{end}}/>
                                        <span class="lever switch-col-blue"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5" id="">
                            <div class="form-group">
                                <label>Danh mục sản phẩm</label>
                                <div class="controls">
                                    <select name="CategoryID" id="select" class="form-control" aria-invalid="false"
                                        data-validation-required-message="Không được để trống">
                                        <option value="0">Chọn danh mục sản phẩm</option>
                                        {{range $cate := .cates}}
                                        <option value="{{$cate.Id}}" {{if eq $.data.CategoryID $cate.Id}} selected {{end}}>{{$cate.TitleVN}}</option>
                                        {{end}}
                                    </select>
                                    <div class="help-block"></div>
                                    {{if .errMsg}} <small class="has-danger form-control-label" style="color: red;">{{ map_get .errMsg "CategoryID"}} </small> {{end}}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                            <!-- Nav tabs -->
                                <ul class="nav nav-tabs customtab" role="tablist">
                                    <li class="nav-item"> <a class="nav-link active" data-toggle="tab" href="#desVN" role="tab"><span class="hidden-sm-up"></span> <span class="hidden-xs-down">Miêu tả VN</span></a> </li>
                                    <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#desEN" role="tab"><span class="hidden-sm-up"></span> <span class="hidden-xs-down">Miêu tả EN</span></a> </li>
                                    <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#contVN" role="tab"><span class="hidden-sm-up"></span> <span class="hidden-xs-down">Nội dung VN</span></a> </li>
                                    <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#contEN" role="tab"><span class="hidden-sm-up"></span> <span class="hidden-xs-down">Nội dung EN</span></a> </li>
                                    <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#image-product" role="tab"><span class="hidden-sm-up"></span> <span class="hidden-xs-down">Hình ảnh</span></a> </li>
                                </ul>
                                <!-- Tab panes -->
                                <div class="tab-content">
                                    <div class="tab-pane active" id="desVN" role="tabpanel">
                                        <div class="p-10">
                                            <textarea id="DescriptionVN" name="DescriptionVN">{{.data.DescriptionVN}}</textarea>
                                        </div>
                                    </div>
                                    <div class="tab-pane p-10" id="desEN" role="tabpanel">
                                            <textarea id="DescriptionEN" name="DescriptionEN">{{.data.DescriptionEN}}</textarea>
                                    </div>
                                    <div class="tab-pane p-10" id="contVN" role="tabpanel">
                                            <textarea id="ContentVN" name="ContentVN">{{.data.ContentVN}}</textarea>
                                    </div>
                                    <div class="tab-pane p-10" id="contEN" role="tabpanel">
                                            <textarea id="ContentEN" name="ContentEN">{{.data.ContentEN}}</textarea>
                                    </div>
                                    <div class="tab-pane p-10" id="image-product" role="tabpanel">
                                        <div class="row">
                                            <div class="col-md-10">
                                                <div class="table-responsive">
                                                    <table class="table table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Tên hình</th>
                                                                <th>Hình</th>
                                                                <th class="text-nowrap"></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            {{range $index,$name := .images}}
                                                                <tr>
                                                                    <td>Hình {{if eq $index 0}} sản phẩm {{else}} chi tiết {{$index}}{{end}}</td>
                                                                    <td>
                                                                        <div>
                                                                            {{if ne $name ""}}
                                                                            <img id="Div-Image-{{$index}}" src="{{UrlHost}}/static/img/product/{{$name}}" class="radius" width="50" height="50">
                                                                            {{else}}
                                                                            <img id="Div-Image-{{$index}}" src="{{UrlHost}}/static/img/no_image.png" class="radius" width="50" height="50">
                                                                            {{end}}
                                                                        </div>
                                                                    </td>
                                                                    <td class="text-nowrap">
                                                                        <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                                                                            <div class="form-control" data-trigger="fileinput">
                                                                                <i class="fa fa-file fileinput-exists"></i>
                                                                                <span class="fileinput-filename"></span>
                                                                            </div>
                                                                            <span class="input-group-addon btn btn-secondary btn-file">
                                                                                <span class="fileinput-new">Chọn</span>
                                                                                <span class="fileinput-exists">Thay đổi</span>
                                                                                <input type="hidden"><input type="file" id="Image-{{$index}}">
                                                                            </span>
                                                                            <a  class="input-group-addon btn btn-secondary fileinput-exists" data-dismiss="fileinput">Xóa</a>
                                                                        </div>
                                                                        <button id="Remove-Image-{{$index}}" type="button" class="btn btn-danger btn-circle mt-1">
                                                                            <i class="mdi mdi-close"></i> 
                                                                        </button>
                                                                        <button id="Upload-Image-{{$index}}" type="button" class="btn btn-info btn-circle mt-1">
                                                                            <i class="mdi mdi-upload"></i> 
                                                                        </button>
                                                                    </td>
                                                                </tr>
                                                            {{end}}
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-success"><i class="fa fa-check"></i>Sửa</button>
                        <button type="reset" class="btn btn-inverse">Hủy</button>
                    </div>
                    <input type="hidden" name="_xsrf" id="_xsrf" value="{{.xsrf_token}}">
                    <input type="hidden" name="id" id="id" value="{{.data.Id}}">
                </form>
            </div>
        </div>
    </div>
</div>
